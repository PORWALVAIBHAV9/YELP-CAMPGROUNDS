<% layout('layouts/boilerplate') %>
<link rel="stylesheet" href="/stylesheets/camp.css">
<div id="map" style="width:100%; height:500px"></div>
    <h1>All Campgrounds</h1>
    <footer><a href="/campgrounds/new"><b> Add a new </a></footer>
    <img src="tent.png" style="margin-left:420px ;" alt="">
    <% for(let campground of campgrounds) {%>
        <div class="card mt-3 md-3" style="background-color:rgba(0,0,0,0.1)" >
            <div class="row  w-75 h-75">
                <%if(campground.images[0]){%>
                <div class="col-md-4">
                    <img style="max-height:300px; max-width:300px; min-width:300px" class="img-fluid" src="<%=campground.images[0].url%>" alt="">
                </div>
                <% } %>
                
                <div class="col-md-8">  
                    <div class="card-body ">
                       
                        <h3 class="card-title"><%=campground.title%></h3>
                        <p class="card-text"><%=campground.description%></p>
                        <small class="text-secondary"><%=campground.location%></small>
                        <a href="/campgrounds/<%=campground._id%>"><button style="background-color:goldenrod" class="btn btn-primary">view <%=campground.title%></button></a>
                </div>
                </div> 
            </div>
        </div>

    <%}%>

<script>
    const mapToken = '<%-process.env.mapbox_token%>'
    const campgrounds = {features: <%- JSON.stringify(campgrounds) %>}//this we do fto follow the data pattern which is required by map 

</script>

<script src="/javascript/clustermap.js"></script> 